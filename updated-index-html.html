<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P2P Career Archetype Assessment</title>
    <style>
        :root {
            /* Light mode colors (default) */
            --bg-primary: #f5f7fb;
            --bg-container: #ffffff;
            --primary: #4361ee;
            --secondary: #3f37c9;
            --text: #212529;
            --text-light: #6c757d;
            --success: #4cc9f0;
            --border: #e0e0e0;
            --border-dark: #d0d0d0;
            --option-bg: #f8f9fa;
            --option-bg-hover: #f0f0f0;
            --option-selected: rgba(67, 97, 238, 0.1);
            --shadow-color: rgba(0, 0, 0, 0.08);
            --shadow-color-sm: rgba(0, 0, 0, 0.05);
            --prev-btn: #e0e0e0;
            --prev-btn-hover: #d0d0d0;
            --progress-bg: #e0e0e0;
            --border-radius: 12px;
        }
        
        [data-theme="dark"] {
            /* Dark mode colors */
            --bg-primary: #121212;
            --bg-container: #1e1e1e;
            --primary: #4f6bf2;
            --secondary: #5c54e0;
            --text: #e0e0e0;
            --text-light: #a0a0a0;
            --success: #4cc9f0;
            --border: #333333;
            --border-dark: #444444;
            --option-bg: #262626;
            --option-bg-hover: #2d2d2d;
            --option-selected: rgba(79, 107, 242, 0.2);
            --shadow-color: rgba(0, 0, 0, 0.2);
            --shadow-color-sm: rgba(0, 0, 0, 0.15);
            --prev-btn: #333333;
            --prev-btn-hover: #3d3d3d;
            --progress-bg: #333333;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--bg-primary);
            color: var(--text);
            line-height: 1.6;
            padding: 20px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--bg-container);
            border-radius: var(--border-radius);
            box-shadow: 0 4px 20px var(--shadow-color);
            padding: 40px;
            position: relative;
            overflow: hidden;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 10px;
            color: var(--primary);
            text-align: center;
        }
        
        h2 {
            font-size: 22px;
            margin-bottom: 20px;
            color: var(--secondary);
        }
        
        .intro {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .intro p {
            max-width: 600px;
            margin: 0 auto 20px;
        }
        
        .btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.2s ease;
            display: inline-block;
            margin-top: 10px;
        }
        
        .btn:hover {
            background-color: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .question-container {
            display: none;
        }
        
        .question {
            margin-bottom: 30px;
            background-color: var(--bg-container);
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 15px var(--shadow-color-sm);
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
        
        .question h3 {
            margin-bottom: 20px;
            font-size: 18px;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .option {
            padding: 15px;
            border-radius: var(--border-radius);
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            background-color: var(--option-bg);
        }
        
        .option:hover {
            background-color: var(--option-bg-hover);
            border-color: var(--border-dark);
        }
        
        .option.selected {
            background-color: var(--option-selected);
            border-color: var(--primary);
        }
        
        .option input {
            margin-right: 10px;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .prev-btn {
            background-color: var(--prev-btn);
            color: var(--text);
        }
        
        .prev-btn:hover {
            background-color: var(--prev-btn-hover);
        }
        
        .progress-container {
            width: 100%;
            height: 8px;
            background-color: var(--progress-bg);
            border-radius: 4px;
            margin: 30px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, var(--primary), var(--success));
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .results-container {
            display: none;
            text-align: center;
        }
        
        .results-header {
            margin-bottom: 30px;
        }
        
        .archetype {
            margin-bottom: 25px;
            padding: 20px;
            border-radius: var(--border-radius);
            background-color: var(--option-bg);
            box-shadow: 0 2px 10px var(--shadow-color-sm);
            text-align: left;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
        
        .archetype-name {
            font-size: 20px;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .share-section {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }
        
        .share-section h3 {
            margin-bottom: 15px;
        }
        
        .animate-fade {
            animation: fadeIn 0.5s ease forwards;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .hidden {
            display: none;
        }
        
        .restart-btn {
            background-color: #6c757d;
            margin-top: 20px;
        }
        
        .restart-btn:hover {
            background-color: #5a6268;
        }
        
        .question-number {
            font-size: 14px;
            color: var(--text-light);
            margin-bottom: 5px;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 40px 0;
        }
        
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: var(--primary);
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        
        /* Theme switcher styles */
        .theme-switch-wrapper {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            align-items: center;
        }
        
        .theme-switch {
            display: inline-block;
            position: relative;
            width: 60px;
            height: 30px;
        }
        
        .theme-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--border);
            transition: 0.4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--primary);
        }
        
        input:checked + .slider:before {
            transform: translateX(30px);
        }
        
        .slider:after {
            content: "‚òÄÔ∏è";
            position: absolute;
            left: 8px;
            top: 5px;
            font-size: 12px;
            display: block;
        }
        
        input:checked + .slider:after {
            content: "üåô";
            right: 8px;
            left: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Theme switcher -->
        <div class="theme-switch-wrapper">
            <label class="theme-switch" for="theme-toggle">
                <input type="checkbox" id="theme-toggle" />
                <span class="slider"></span>
            </label>
        </div>
        
        <div id="intro" class="intro animate-fade">
            <h1>Discover Your Career Archetype</h1>
            <p>This assessment will help you identify your unique career archetype based on your natural strengths and preferences.</p>
            <p>Answer 5 quick questions to discover where your talents truly shine.</p>
            <button id="start-btn" class="btn">Start Assessment</button>
        </div>
        
        <div id="question-container" class="question-container">
            <div class="progress-container">
                <div id="progress-bar" class="progress-bar"></div>
            </div>
            
            <div id="question" class="question animate-fade">
                <span id="question-number" class="question-number">Question 1 of 5</span>
                <h3 id="question-text"></h3>
                <div id="options" class="options"></div>
            </div>
            
            <div class="navigation">
                <button id="prev-btn" class="btn prev-btn">Previous</button>
                <button id="next-btn" class="btn">Next</button>
            </div>
        </div>
        
        <div id="loading" class="loading">
            <div class="loading-spinner"></div>
            <p>Analyzing your responses...</p>
        </div>
        
        <div id="results-container" class="results-container">
            <div class="results-header animate-fade">
                <h1>Your Top Career Archetypes</h1>
                <p>Based on your responses, here are the career archetypes that best match your strengths and preferences:</p>
            </div>
            
            <div id="results" class="animate-fade"></div>
            
            <button id="restart-btn" class="btn restart-btn">Retake Assessment</button>
            
            <div class="share-section animate-fade">
                <h3>Share Your Results</h3>
                <p>Invite friends to discover their archetype too!</p>
                <button id="share-btn" class="btn">Share Assessment</button>
            </div>
        </div>
    </div>

    <script>
        // Theme switcher functionality
        const themeToggle = document.getElementById('theme-toggle');
        
        // Check for saved user preference and set the theme
        if (localStorage.getItem('theme') === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
            themeToggle.checked = true;
        }
        
        // Apply theme when toggle is changed
        themeToggle.addEventListener('change', function() {
            if (this.checked) {
                document.documentElement.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
            } else {
                document.documentElement.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
            }
        });
        
        // Questions and scoring data
        const questions = [
            {
                text: "I often generate new business or side hustle ideas.",
                options: [
                    { text: "Strongly Agree", score: { "Trailblazer Entrepreneur": 2, "Creative Maverick": 1 } },
                    { text: "Agree", score: { "Trailblazer Entrepreneur": 1, "Creative Maverick": 0.5 } },
                    { text: "Neutral", score: { } },
                    { text: "Disagree", score: { } },
                    { text: "Strongly Disagree", score: { } }
                ]
            },
            {
                text: "I prefer work that allows me to support others emotionally.",
                options: [
                    { text: "Strongly Agree", score: { "Healing Alchemist": 2, "Visionary Coach": 1 } },
                    { text: "Agree", score: { "Healing Alchemist": 1, "Visionary Coach": 0.5 } },
                    { text: "Neutral", score: { } },
                    { text: "Disagree", score: { } },
                    { text: "Strongly Disagree", score: { } }
                ]
            },
            {
                text: "I'm most productive with clear structure and systems.",
                options: [
                    { text: "Strongly Agree", score: { "Grounded Architect": 2, "Strategic Techie": 1 } },
                    { text: "Agree", score: { "Grounded Architect": 1, "Strategic Techie": 0.5 } },
                    { text: "Neutral", score: { } },
                    { text: "Disagree", score: { } },
                    { text: "Strongly Disagree", score: { } }
                ]
            },
            {
                text: "I'm known for leading with empathy.",
                options: [
                    { text: "Strongly Agree", score: { "Empathetic Architect": 2, "Healing Alchemist": 1 } },
                    { text: "Agree", score: { "Empathetic Architect": 1, "Healing Alchemist": 0.5 } },
                    { text: "Neutral", score: { } },
                    { text: "Disagree", score: { } },
                    { text: "Strongly Disagree", score: { } }
                ]
            },
            {
                text: "I love setting bold goals and hitting them.",
                options: [
                    { text: "Strongly Agree", score: { "Athletic Visionary": 2, "Trailblazer Entrepreneur": 1 } },
                    { text: "Agree", score: { "Athletic Visionary": 1, "Trailblazer Entrepreneur": 0.5 } },
                    { text: "Neutral", score: { } },
                    { text: "Disagree", score: { } },
                    { text: "Strongly Disagree", score: { } }
                ]
            }
        ];
        
        // Archetype descriptions
        const archetypeDescriptions = {
            "Trailblazer Entrepreneur": "You're a natural innovator who sees opportunities where others don't. Your entrepreneurial spirit, combined with your drive to create new solutions, positions you well for starting ventures or leading new initiatives within organizations.",
            
            "Creative Maverick": "You approach problems with a unique perspective and thrive when you can express your creativity. Your ability to think outside the box makes you valuable in roles that require innovation and fresh thinking.",
            
            "Healing Alchemist": "You have a natural gift for supporting others through challenges and transformation. Your empathetic nature makes you excellent in roles focused on wellness, counseling, or helping others navigate difficult transitions.",
            
            "Visionary Coach": "You excel at seeing others' potential and guiding them toward success. Your ability to inspire and motivate makes you ideal for leadership, coaching, and mentoring roles.",
            
            "Grounded Architect": "You thrive on creating effective structures and systems. Your methodical approach to challenges makes you valuable in organizational design, project management, or any role requiring careful planning.",
            
            "Strategic Techie": "You combine analytical thinking with technological savvy. Your ability to develop systematic solutions positions you well for roles in technology, analysis, or strategic planning.",
            
            "Empathetic Architect": "You build systems and structures with a deep understanding of human needs. Your combination of empathy and organizational skills makes you excellent at creating people-centered processes and environments.",
            
            "Athletic Visionary": "You're driven by achievement and focused on results. Your goal-oriented nature and determination position you well for roles requiring leadership, strategy, and execution excellence."
        };
        
        // Variables to track quiz state
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let archetypeScores = {};
        
        // DOM elements
        const introSection = document.getElementById('intro');
        const questionContainer = document.getElementById('question-container');
        const questionNumber = document.getElementById('question-number');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options');
        const prevButton = document.getElementById('prev-btn');
        const nextButton = document.getElementById('next-btn');
        const progressBar = document.getElementById('progress-bar');
        const resultsContainer = document.getElementById('results-container');
        const resultsDiv = document.getElementById('results');
        const loadingSection = document.getElementById('loading');
        
        // Initialize archetype scores
        function initializeScores() {
            Object.keys(archetypeDescriptions).forEach(archetype => {
                archetypeScores[archetype] = 0;
            });
        }
        
        // Start the quiz
        document.getElementById('start-btn').addEventListener('click', () => {
            introSection.style.display = 'none';
            questionContainer.style.display = 'block';
            initializeScores();
            loadQuestion(0);
        });
        
        // Load a question
        function loadQuestion(index) {
            const question = questions[index];
            questionNumber.textContent = `Question ${index + 1} of ${questions.length}`;
            questionText.textContent = question.text;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Add options
            question.options.forEach((option, i) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                if (userAnswers[index] === i) {
                    optionDiv.classList.add('selected');
                }
                
                const radio = document.createElement('input');
                radio.type = 'radio';
                radio.name = 'question-' + index;
                radio.id = 'option-' + index + '-' + i;
                radio.checked = userAnswers[index] === i;
                
                const label = document.createElement('label');
                label.htmlFor = 'option-' + index + '-' + i;
                label.textContent = option.text;
                
                optionDiv.appendChild(radio);
                optionDiv.appendChild(label);
                
                optionDiv.addEventListener('click', () => {
                    document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
                    optionDiv.classList.add('selected');
                    radio.checked = true;
                    userAnswers[index] = i;
                });
                
                optionsContainer.appendChild(optionDiv);
            });
            
            // Update navigation buttons
            prevButton.style.visibility = index === 0 ? 'hidden' : 'visible';
            nextButton.textContent = index === questions.length - 1 ? 'See Results' : 'Next';
            
            // Update progress bar
            progressBar.style.width = `${((index + 1) / questions.length) * 100}%`;
        }
        
        // Navigate to previous question
        prevButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion(currentQuestionIndex);
            }
        });
        
        // Navigate to next question or finish quiz
        nextButton.addEventListener('click', () => {
            if (userAnswers[currentQuestionIndex] === undefined) {
                alert('Please select an answer before continuing.');
                return;
            }
            
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion(currentQuestionIndex);
            } else {
                finishQuiz();
            }
        });
        
        // Calculate results and display them
        function finishQuiz() {
            questionContainer.style.display = 'none';
            loadingSection.style.display = 'block';
            
            // Calculate scores
            userAnswers.forEach((answerIndex, questionIndex) => {
                const selectedOption = questions[questionIndex].options[answerIndex];
                const scores = selectedOption.score;
                
                Object.keys(scores).forEach(archetype => {
                    archetypeScores[archetype] = (archetypeScores[archetype] || 0) + scores[archetype];
                });
            });
            
            // Sort archetypes by score
            const sortedArchetypes = Object.keys(archetypeScores)
                .filter(archetype => archetypeScores[archetype] > 0)
                .sort((a, b) => archetypeScores[b] - archetypeScores[a]);
            
            // Show top 3 archetypes or fewer if not enough scored
            const topArchetypes = sortedArchetypes.slice(0, 3);
            
            // Simulate loading
            setTimeout(() => {
                loadingSection.style.display = 'none';
                resultsContainer.style.display = 'block';
                
                // Display results
                resultsDiv.innerHTML = '';
                topArchetypes.forEach((archetype, index) => {
                    const archetypeDiv = document.createElement('div');
                    archetypeDiv.className = 'archetype animate-fade';
                    archetypeDiv.style.animationDelay = `${index * 0.2}s`;
                    
                    const archetypeName = document.createElement('div');
                    archetypeName.className = 'archetype-name';
                    archetypeName.textContent = `${index + 1}. ${archetype}`;
                    
                    const archetypeDesc = document.createElement('p');
                    archetypeDesc.textContent = archetypeDescriptions[archetype];
                    
                    archetypeDiv.appendChild(archetypeName);
                    archetypeDiv.appendChild(archetypeDesc);
                    resultsDiv.appendChild(archetypeDiv);
                });
                
                // If no archetypes scored
                if (topArchetypes.length === 0) {
                    resultsDiv.innerHTML = '<p>Based on your answers, we couldn\'t identify any strong archetypes. Try retaking the assessment and considering your responses carefully.</p>';
                }
            }, 1500);
        }
        
        // Restart the assessment
        document.getElementById('restart-btn').addEventListener('click', () => {
            currentQuestionIndex = 0;
            userAnswers = [];
            initializeScores();
            resultsContainer.style.display = 'none';
            loadQuestion(0);
            questionContainer.style.display = 'block';
        });
        
        // Share functionality (basic implementation)
        document.getElementById('share-btn').addEventListener('click', () => {
            if (navigator.share) {
                navigator.share({
                    title: 'P2P Career Archetype Assessment',
                    text: 'Discover your career archetype with this quick assessment!',
                    url: window.location.href
                })
                .catch(error => console.log('Error sharing:', error));
            } else {
                // Fallback for browsers that don't support navigator.share
                prompt('Copy this link to share the assessment:', window.location.href);
            }
        });
    </script>
</body>
</html>